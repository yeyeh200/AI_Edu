# AI助评应用数据模型文档

## 概述

本目录包含AI助评应用的完整数据模型设计文档，采用分层架构设计，覆盖用户管理、教学资源、教学活动、评价分析、系统管理等五大业务域。

## 文档结构

```
docs/数据模型/
├── 00-数据模型总览和索引.md      # 数据模型总体规划文档
├── README.md                    # 本说明文档
├── 01-用户管理域/               # 用户管理域数据实体
│   ├── DM-USER-001-用户基本信息实体.md
│   ├── DM-USER-002-用户详细档案实体.md
│   ├── DM-USER-003-用户角色关系实体.md
│   ├── DM-USER-004-角色定义实体.md
│   └── DM-USER-005-权限定义实体.md
├── 02-教学资源域/               # 教学资源域数据实体
│   ├── DM-COURSE-001-课程信息实体.md
│   ├── DM-COURSE-002-课程分类实体.md
│   ├── DM-COURSE-003-教师信息实体.md
│   ├── DM-COURSE-004-院系信息实体.md
│   ├── DM-COURSE-005-专业信息实体.md
│   ├── DM-COURSE-006-班级信息实体.md
│   ├── DM-COURSE-007-教室信息实体.md
│   └── DM-COURSE-008-教材信息实体.md
├── 03-教学活动域/               # 教学活动域数据实体
│   ├── DM-ACTIVITY-001-课程安排实体.md
│   ├── DM-ACTIVITY-002-教学活动实体.md
│   ├── DM-ACTIVITY-003-考勤记录实体.md
│   ├── DM-ACTIVITY-004-作业信息实体.md
│   ├── DM-ACTIVITY-005-作业提交实体.md
│   ├── DM-ACTIVITY-006-考试信息实体.md
│   ├── DM-ACTIVITY-007-考试成绩实体.md
│   └── DM-ACTIVITY-008-课程资源实体.md
├── 04-评价分析域/               # 评价分析域数据实体
│   ├── DM-EVAL-001-评价模板实体.md
│   ├── DM-EVAL-002-评价记录实体.md
│   ├── DM-EVAL-003-评价指标实体.md
│   ├── DM-EVAL-004-评价结果实体.md
│   ├── DM-EVAL-005-质量评分实体.md
│   ├── DM-EVAL-006-改进建议实体.md
│   └── DM-EVAL-007-教学质量报告实体.md
└── 05-系统管理域/               # 系统管理域数据实体
    ├── DM-SYS-001-系统配置实体.md
    ├── DM-SYS-002-操作日志实体.md
    ├── DM-SYS-003-数据同步日志实体.md
    ├── DM-SYS-004-预警规则实体.md
    ├── DM-SYS-005-预警记录实体.md
    └── DM-SYS-006-数据字典实体.md
```

## 已完成文档 (10/34)

当前已完成以下核心数据实体文档：

### 总览文档
- **00-数据模型总览和索引.md** - 数据模型总体规划，包含所有实体的索引和关系
- **文档完成清单.md** - 详细的文档完成情况和统计信息

### 用户管理域 (5个实体) ✅
- **DM-USER-001-用户基本信息实体.md** - 用户核心身份信息实体，支持教师、学生、管理员等多种用户类型
- **DM-USER-002-用户详细档案实体.md** - 用户详细档案实体，包含资质认证、工作经历等信息
- **DM-USER-003-用户角色关系实体.md** - 用户角色关系实体，支持多对多关系和时间控制
- **DM-USER-004-角色定义实体.md** - RBAC角色管理实体，支持灵活的权限分配和继承
- **DM-USER-005-权限定义实体.md** - 权限定义实体，基于资源-操作模型的原子权限

### 教学资源域 (2个实体) ✅
- **DM-COURSE-001-课程信息实体.md** - 课程基础信息实体，整合职教云和教务系统课程数据
- **DM-COURSE-002-课程分类实体.md** - 课程分类实体，支持多层级分类体系

### 教学活动域 (1个实体) ✅
- **DM-ACTIVITY-001-课程安排实体.md** - 课程安排实体，包含时间安排、地点分配和冲突检测

### 评价分析域 (1个实体) ✅
- **DM-EVAL-005-质量评分实体.md** - 教学质量评分结果实体，支持多维度评分和排名分析

### 系统管理域 (1个实体) ✅
- **DM-SYS-001-系统配置实体.md** - 系统配置实体，支持动态配置和热重载

## 数据模型特点

### 1. 分层架构设计
- **ODS层**：原始数据层，存储来自职教云、教务系统、竞赛系统的原始数据
- **DWD层**：数据清洗层，进行数据清洗、标准化处理
- **DWS层**：数据汇总层，按业务主题进行数据汇总
- **ADS层**：数据应用层，面向应用的数据聚合

### 2. 数据域划分
- **用户域**：用户身份、权限、行为相关数据
- **教学域**：课程、师资、教学资源相关数据
- **评价域**：教学质量评价、分析相关数据
- **分析域**：统计指标、趋势分析相关数据
- **管理域**：系统配置、日志、监控相关数据

### 3. 实体分类
- **维度模型**：时间、组织、用户、课程等维度
- **事实模型**：教学活动、评价结果、用户行为等事实
- **聚合模型**：日、周、月、学期等时间粒度聚合

## 设计原则

### 1. 数据一致性
- 统一的命名规范和字段定义
- 完善的数据校验和约束
- 跨系统的数据映射和同步

### 2. 数据安全性
- 敏感数据加密存储
- 基于角色的访问控制
- 完整的操作审计日志

### 3. 性能优化
- 合理的索引设计
- 分区表策略
- 查询优化方案

### 4. 可扩展性
- 模块化的实体设计
- 灵活的扩展字段
- 预留的业务扩展空间

## 数据源映射

### 职教云平台 (46个表)
- 基础数据同步表 (11个)
- 教学过程数据推送表 (35个)

### 教务系统 (25个表)
- 学生管理模块 (6个)
- 教学管理模块 (8个)
- 课程安排模块 (4个)
- 组织架构模块 (4个)
- 基础数据模块 (2个)
- 数据集成模块 (1个)

### 竞赛系统 (12个表)
- 竞赛申报数据
- 成绩管理数据
- 材料管理数据

## 技术实现

### 数据库选型
- **主数据库**：MySQL 8.0+，支持ACID事务
- **缓存数据库**：Redis 6.0+，高性能缓存
- **搜索引擎**：Elasticsearch 7.10+，全文检索

### ORM框架
- **SQLAlchemy**：Python ORM框架
- 自动表结构管理
- 查询结果缓存
- 连接池管理

### 数据同步
- **增量同步**：基于时间戳的增量更新
- **全量同步**：定期全量数据校验
- **实时同步**：关键数据实时同步

## 使用指南

### 1. 文档阅读顺序
1. 首先阅读 `00-数据模型总览和索引.md` 了解整体架构
2. 根据业务需求选择对应的数据域文档
3. 查看具体实体的详细定义和使用示例

### 2. 开发参考
- 实体字段定义直接用于数据库表结构设计
- 约束和索引定义用于性能优化
- SQL示例用于业务查询参考

### 3. 数据运维
- 数据质量规则用于数据校验
- 同步策略用于数据集成
- 性能优化方案用于系统调优

## 维护说明

### 文档维护
- **维护团队**：数据建模团队
- **更新频率**：根据业务变更及时更新
- **审核流程**：技术审核 + 业务审核

### 版本管理
- **版本号**：采用语义化版本控制
- **变更记录**：记录每次变更的内容和原因
- **兼容性**：保持向后兼容性

## 联系方式

- **项目组邮箱**：project@school.edu.cn
- **技术支持**：数据建模团队
- **业务咨询**：教务处信息技术中心

---

*本文档随项目进展持续更新，最后更新时间：2025-11-23*