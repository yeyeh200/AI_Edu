# EDU_CLASS_INFO 班级表

## 基本信息

- **表名**：`EDU_CLASS_INFO`（原表名：`V_BRW_Class`）
- **中文名称**：班级
- **用途**：存储班级的基本信息，包括班级代码、名称、所属院系专业、辅导员等信息
- **字段数量**：22个
- **数据类别**：教务系统 - 组织架构模块

## 字段定义

| 字段名 | 原字段名 | 数据类型 | 长度 | 是否为空 | 主键 | 默认值 | 备注 |
|--------|----------|----------|------|----------|------|--------|------|
| bjdm | 班级id | char | - | NO | YES | - | - |
| nj | 入学年级 | char | - | YES | NO | - | - |
| user_dm | 班级代码 | char | - | NO | NO | - | - |
| bjmc | 班级名称 | char | - | NO | NO | - | - |
| user_yxid | 院(系)/部代码 | char | - | YES | NO | - | - |
| yxmc | 院(系)/部名称 | char | - | YES | NO | - | - |
| zydm | 专业ID | char | - | YES | NO | - | - |
| user_zydm | 专业代码 | char | - | YES | NO | - | - |
| zymc | 专业名称 | char | - | YES | NO | - | - |
| xq_mc | 校区名称 | char | - | YES | NO | - | - |
| xq_dm | 校区代码 | char | - | YES | NO | - | - |
| xz | 学制 | char | - | YES | NO | - | - |
| bjrs | 预设人数 | char | - | YES | NO | - | - |
| fdyxm | 辅导员姓名 | char | - | YES | NO | - | - |
| fdygh | 辅导员工号 | char | - | YES | NO | - | - |
| PYCC | 培养层次代码 | char | - | YES | NO | - | - |
| pyccmc | 培养层次 | char | - | YES | NO | - | - |
| useful | 状态 | CHAR | - | YES | NO | - | 0为不可用 |

## 字段详细说明

### 主键字段
- **bjdm**：班级内部ID，主键
- **user_dm**：班级代码，业务唯一标识符

### 基本信息字段
- **bjmc**：班级名称，如"计算机2024级1班"
- **nj**：入学年级，如"2024"
- **xz**：学制，如"4"表示四年制

### 院系专业关联字段
- **user_yxid**：院(系)/部代码
- **yxmc**：院(系)/部名称
- **zydm**：专业ID
- **user_zydm**：专业代码
- **zymc**：专业名称

### 校区信息字段
- **xq_mc**：校区名称
- **xq_dm**：校区代码

### 规模和配置字段
- **bjrs**：预设人数，班级设计容量
- **useful**：状态（0为不可用，1为可用）

### 辅导员信息字段
- **fdyxm**：辅导员姓名
- **fdygh**：辅导员工号

### 培养层次字段
- **PYCC**：培养层次代码
- **pyccmc**：培养层次名称

## 状态说明

### 班级状态（useful）
| 状态值 | 说明 | 含义 |
|--------|------|------|
| 0 | 不可用 | 班级已停用或毕业 |
| 1 | 可用 | 班级正常使用中 |

## 培养层次说明

### 培养层次代码（PYCC）
| 代码 | 培养层次 | 说明 |
|------|----------|------|
| 1 | 专科 | 三年制专科 |
| 2 | 本科 | 四年制本科 |
| 3 | 硕士 | 硕士研究生 |
| 4 | 博士 | 博士研究生 |
| 5 | 高职 | 高等职业教育 |
| 6 | 成教 | 成人教育 |

## 学制说明

### 常见学制
- **1**：一年制
- **2**：两年制
- **3**：三年制
- **4**：四年制
- **5**：五年制

## 班级命名规范

### 标准命名格式
```
[专业名称][年级][班级序号]
示例：计算机科学与技术2024级1班
```

### 命名要素
- **专业名称**：完整的专业名称
- **入学年级**：4位数字，如"2024"
- **班级序号**：班级序号，如"1"、"2"等

## 数据约束

1. **主键约束**：`bjdm` 字段必须唯一且非空
2. **唯一约束**：`user_dm` 应保持唯一性
3. **外键约束**：`user_yxid` 应引用院系表中的有效记录
4. **外键约束**：`user_zydm` 应引用专业表中的有效记录
5. **检查约束**：`useful` 只能是 0 或 1
6. **检查约束**：`xz` 应符合实际学制规范

## 索引建议

- **主键索引**：`bjdm` - 主键自动创建唯一索引
- **业务索引**：`user_dm` - 建议创建唯一索引，确保班级代码唯一性
- **关联索引**：`user_yxid` - 外键索引，用于关联查询院系信息
- **关联索引**：`user_zydm` - 外键索引，用于关联查询专业信息
- **状态索引**：`useful` - 用于过滤有效班级
- **年级索引**：`nj` - 用于按年级查询班级
- **校区索引**：`xq_dm` - 用于按校区统计班级

## 数据关联关系

### 主要外键关联
- **院系信息表**：通过 `user_yxid` 关联院系信息
- **专业信息表**：通过 `user_zydm` 关联专业信息

### 业务关联
- **学生基本信息表**：通过班级代码关联学生信息
- **课程安排表**：通过班级代码关联课程安排
- **教师班级表**：关联班主任和任课教师
- **成绩表**：通过班级关联学生成绩

## 使用示例

### SQL查询示例

```sql
-- 查询所有可用班级
SELECT bjdm, user_dm, bjmc, nj, yxmc, zymc, bjrs, fdyxm
FROM EDU_CLASS_INFO
WHERE useful = '1'
ORDER BY nj, user_dm;

-- 查询某院系的所有班级
SELECT bjdm, user_dm, bjmc, nj, zymc, bjrs, pyccmc
FROM EDU_CLASS_INFO
WHERE user_yxid = 'YX001' AND useful = '1'
ORDER BY nj, bjmc;

-- 查询某专业的班级
SELECT bjdm, user_dm, bjmc, nj, bjrs, fdyxm
FROM EDU_CLASS_INFO
WHERE user_zydm = 'CS001' AND useful = '1'
ORDER BY nj, bjmc;

-- 统计各年级班级数量
SELECT nj, COUNT(*) as class_count
FROM EDU_CLASS_INFO
WHERE useful = '1'
GROUP BY nj
ORDER BY nj;

-- 查询班级学生数量（需要关联学生表）
SELECT c.bjmc, c.bjrs, COUNT(s.user_xh) as actual_count
FROM EDU_CLASS_INFO c
LEFT JOIN EDU_STUDENT_INFO s ON c.user_dm = s.bjdm_user
WHERE c.useful = '1'
GROUP BY c.bjdm, c.bjrs
ORDER BY c.nj, c.bjmc;
```

### 数据插入示例

```sql
INSERT INTO EDU_CLASS_INFO (
    bjdm, nj, user_dm, bjmc, user_yxid, yxmc,
    zydm, user_zydm, zymc, xq_mc, xq_dm, xz,
    bjrs, fdyxm, fdygh, PYCC, pyccmc, useful
) VALUES (
    'CLS001', '2024', 'CS202401', '计算机科学与技术2024级1班',
    'YX001', '计算机学院', 'ZY001', 'CS001',
    '计算机科学与技术', '主校区', 'CAMP001', '4',
    '60', '张老师', 'T001', '2', '本科', '1'
);
```

## 业务逻辑说明

### 班级创建
1. **专业设置**：根据专业设置确定班级专业属性
2. **招生计划**：根据招生计划确定班级规模
3. **班级划分**：按照人数和性别等因素划分班级
4. **辅导员分配**：为每个班级分配辅导员

### 班级管理
1. **状态管理**：通过 `useful` 字段控制班级的启用状态
2. **容量管理**：监控班级人数与预设人数的关系
3. **调整处理**：根据实际情况调整班级设置
4. **毕业处理**：班级毕业后将状态设为不可用

### 数据完整性
1. **编码一致**：确保院系、专业编码与主表一致
2. **名称规范**：班级名称符合统一的命名规范
3. **关联完整**：确保与相关表的关联关系完整

## 数据维护建议

### 定期维护
1. **数据更新**：及时更新班级状态和辅导员信息
2. **容量调整**：根据实际人数调整预设人数
3. **编码同步**：确保院系专业编码与主表同步

### 异常处理
1. **重复班级**：检查并处理重复的班级记录
2. **编码错误**：纠正错误的院系专业编码
3. **状态异常**：处理状态设置异常的情况

## 常见班级类型

### 按培养层次
- **专科班级**：三年制专科专业班级
- **本科班级**：四年制本科专业班级
- **研究生班级**：硕士、博士研究生班级

### 按教学形式
- **普通班级**：常规教学班级
- **实验班级**：教学实验班级
- **合作班级**：校企合作班级

### 按特殊需求
- **双语班级**：中英文教学班级
- **国际班级**：国际化教学班级
- **特色班级**：具有特殊培养目标的班级

---

**数据来源**：教务管理系统
**维护单位**：教务处、学生管理科
**更新频率**：班级设置时更新，学期初集中更新