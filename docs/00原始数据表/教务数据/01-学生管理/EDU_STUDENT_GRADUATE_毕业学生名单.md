# EDU_STUDENT_GRADUATE 毕业学生名单表

## 基本信息

- **表名**：`EDU_STUDENT_GRADUATE`（原表名：`V_BRW_StudBY`）
- **中文名称**：毕业学生名单
- **用途**：记录毕业学生信息，包括毕业结论、毕业年届等，用于毕业管理和毕业证书发放
- **字段数量**：4个
- **数据类别**：教务系统 - 学生管理模块

## 字段定义

| 字段名 | 原字段名 | 数据类型 | 长度 | 是否为空 | 主键 | 默认值 | 备注 |
|--------|----------|----------|------|----------|------|--------|------|
| xh | 学生ID | char | - | YES | NO | - | 学生唯一标识 |
| user_xh | 学号 | char | - | NO | NO | - | 学生学号 |
| bynj | 毕业年届 | numeric | - | YES | NO | - | - |
| lx_id | 毕业结论 | char | - | YES | NO | - | - |

## 字段详细说明

### 主键字段
- **xh**：学生ID，内部唯一标识符，主键
- **user_xh**：学生学号，业务唯一标识符

### 毕业信息字段
- **bynj**：毕业年届，如2024表示2024届毕业生
- **lx_id**：毕业结论，标识学生的毕业状态

## 毕业结论说明

| 毕业结论 | 毕业结论值 | 说明 | 获得证书 |
|----------|------------|------|----------|
| 未毕业 | '0' | 尚未达到毕业要求 | 无毕业证书 |
| 毕业 | '1' | 完成所有学业要求 | 毕业证书 |
| 结业 | '2' | 完成部分学业要求 | 结业证书 |
| 肄业 | '3' | 非正常完成学业 | 肄业证书 |

### 毕业类型详细说明

#### 毕业（'1'）
- 完成教学计划规定的所有课程
- 修满规定的学分
- 成绩合格，达到毕业要求
- 获得毕业证书和学位证书

#### 结业（'2'）
- 完成大部分学业要求
- 学分达到结业标准但未达到毕业标准
- 获得结业证书，不能获得学位证书
- 可在规定期限内申请补授学位

#### 肄业（'3'）
- 因各种原因提前终止学业
- 获得肄业证书，证明学习经历
- 不能获得毕业证书或学位证书

#### 未毕业（'0'）
- 仍在学习中
- 暂未达到任何毕业要求
- 不发放毕业相关证书

## 数据约束

1. **主键约束**：`xh` 字段必须唯一且非空
2. **唯一约束**：`user_xh` 应保持唯一性，确保每个学生只有一条毕业记录
3. **检查约束**：`lx_id` 只能是 '0'、'1'、'2' 或 '3'
4. **外键约束**：`user_xh` 应引用学生基本信息表中的有效记录

## 索引建议

- **主键索引**：`xh` - 主键自动创建唯一索引
- **学号索引**：`user_xh` - 建议创建唯一索引，确保学号唯一性
- **年届索引**：`bynj` - 用于按毕业年届查询
- **结论索引**：`lx_id` - 用于按毕业结论统计

## 数据关联关系

### 主要外键关联
- **学生基本信息表**：通过 `user_xh` 关联学生基本信息

### 业务关联
- 与 **毕业申请表**关联：记录毕业申请的详细信息
- 与 **学位授予表**关联：记录学位授予情况
- 与 **证书发放表**关联：记录毕业证书发放情况

## 使用示例

### SQL查询示例

```sql
-- 查询某届所有毕业学生
SELECT s.user_xh, s.xm, s.bynj, g.lx_id,
       CASE g.lx_id
           WHEN '0' THEN '未毕业'
           WHEN '1' THEN '毕业'
           WHEN '2' THEN '结业'
           WHEN '3' THEN '肄业'
       END as graduation_status
FROM EDU_STUDENT_GRADUATE g
JOIN EDU_STUDENT_INFO s ON g.user_xh = s.user_xh
WHERE g.bynj = 2024 AND g.lx_id IN ('1', '2', '3')
ORDER BY s.user_xh;

-- 查询学生毕业情况
SELECT s.user_xh, s.xm, s.zymc, s.bjmc,
       g.bynj, g.lx_id,
       CASE g.lx_id
           WHEN '0' THEN '未毕业'
           WHEN '1' THEN '毕业'
           WHEN '2' THEN '结业'
           WHEN '3' THEN '肄业'
       END as graduation_status
FROM EDU_STUDENT_INFO s
LEFT JOIN EDU_STUDENT_GRADUATE g ON s.user_xh = g.user_xh
WHERE s.user_xh = '2024001001';

-- 统计毕业生情况
SELECT bynj,
       SUM(CASE WHEN lx_id = '1' THEN 1 ELSE 0 END) as graduate_count,
       SUM(CASE WHEN lx_id = '2' THEN 1 ELSE 0 END) as completion_count,
       SUM(CASE WHEN lx_id = '3' THEN 1 ELSE 0 END) as dropout_count
FROM EDU_STUDENT_GRADUATE
GROUP BY bynj
ORDER BY bynj DESC;

-- 查询某专业毕业生统计
SELECT s.zymc, COUNT(*) as total_count,
       SUM(CASE WHEN g.lx_id = '1' THEN 1 ELSE 0 END) as graduate_count,
       SUM(CASE WHEN g.lx_id = '2' THEN 1 ELSE 0 END) as completion_count
FROM EDU_STUDENT_GRADUATE g
JOIN EDU_STUDENT_INFO s ON g.user_xh = s.user_xh
WHERE g.lx_id IN ('1', '2')
GROUP BY s.zymc
ORDER BY total_count DESC;
```

### 数据插入示例

```sql
INSERT INTO EDU_STUDENT_GRADUATE (
    xh, user_xh, bynj, lx_id
) VALUES (
    'XH001', '2024001001', 2024, '1'
);
```

## 业务逻辑说明

### 毕业流程
1. **毕业审核**：教务处审核学生毕业资格
2. **毕业确认**：确认学生达到毕业要求
3. **证书发放**：发放相应证书
4. **记录更新**：更新学生毕业状态

### 毕业结论确定
1. **学业完成情况**：根据课程完成度和成绩确定
2. **学分达标情况**：检查是否达到规定的学分要求
3. **违规违纪情况**：考虑是否有违纪影响毕业
4. **其他特殊情况**：处理特殊情况下的毕业结论

### 证书管理
1. **证书类型**：根据毕业结论发放不同证书
2. **证书编号**：为每个证书生成唯一编号
3. **发放记录**：记录证书的发放时间和接收人
4. **补办管理**：处理证书丢失的补办申请

## 数据维护建议

### 定期维护
1. **数据更新**：定期更新学生毕业状态
2. **数据校验**：检查毕业结论的准确性
3. **数据备份**：定期备份毕业数据

### 异常处理
1. **重复记录**：检查并处理重复的毕业记录
2. **结论错误**：纠正错误的毕业结论
3. **数据缺失**：补充缺失的毕业记录

## 数据统计分析

### 毕业率统计
- 按专业统计毕业率
- 按年级统计毕业率
- 按院系统计毕业率
- 按时间趋势分析毕业率

### 毕业类型分析
- 毕业、结业、肄业比例
- 不同毕业原因分析
- 毕业时间分布分析

## 常见业务场景

### 正常毕业
- 学生按时完成学业
- 获得毕业证书和学位证书
- 进入社会就业或继续深造

### 提前毕业
- 学生提前修完所有课程
- 获得毕业证书
- 可能影响某些学习体验

### 延迟毕业
- 学生需要更多时间完成学业
- 可能涉及重修、补考等情况
- 影响就业规划

### 非正常毕业
- 因各种原因未能完成学业
- 获得结业证书或肄业证书
- 可能需要重新学习

---

**数据来源**：教务管理系统
**维护单位**：教务处、学生管理科
**更新频率**：毕业季定期更新，学年末统一更新